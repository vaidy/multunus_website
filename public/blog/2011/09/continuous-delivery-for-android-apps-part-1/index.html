
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Continuous Delivery for Android Apps - Part 1  | Multunus </title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="We&#8217;ve set up our CI server for building android apps. We use Jenkins as our CI server, but the same steps can be applied to any CI server. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://multunus.herokuapp.com/blog/2011/09/continuous-delivery-for-android-apps-part-1">
  <link href="/images/favicon.ico" rel="icon">
  <link href="/stylesheets/bootstrap/bootstrap.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/bootstrap/responsive.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/syntax/syntax.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link rel="stylesheet" type="text/css" href="/stylesheets/screen.css">
  <style type="text/css">
    body {
        }
    h1 {
      margin-bottom: 15px;
    }
    img {
      max-width: 100%;
    }
    .sharing, .meta, .pager {
      margin: 20px 0px 20px 0px;
    }
    
  </style>
  <script src="/javascripts/libs/jquery.js"></script>
  <script src="/javascripts/libs/modernizr-2.0.js"></script>
  <script src="/javascripts/libs/bootstrap.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Multunus" type="application/atom+xml">
  <!-- jQuery Form Plugin -->
<script src="http://malsup.github.com/jquery.form.js"></script>
<!-- jQuery Form Validation Plugin -->
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js"></script> 
<script src="/javascripts/google_form.js"></script>
  <link href='http://fonts.googleapis.com/css?family=Bitter:400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">
    // Avoid conflict with ender.js.
    jQuery.noConflict();
</script>
<!-- jQuery Form Plugin -->
<script src="http://malsup.github.com/jquery.form.js"></script>
<!-- jQuery Form Validation Plugin -->
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js"></script> 
<script src="/javascripts/google_form.js"></script>
  

</head>

<body   >
  <nav role="navigation"><div class="navbar subnav">
  <div class="container-fluid">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>        

      <div class="nav-collapse top-bar">
        <ul class="nav">
  
    <li><a class="small-logo" href="/"><img src='/images/logo_small.png' /></a></li>  
  
	<li  ><a href="/">Home</a></li>	
  <li  ><a href="/what-we-do">What We Do</a></li>
  <li  ><a href="/why-us">Why Us?</a></li>
  <li  ><a href="/careers-multunus">Careers</a></li>
  <li  class="dropdown">
    <a href="/about/history">About</a>
    <ul class="dropdown-menu">
      <li><a href="/about/history">History</a></li>
      <li><a href="/about/people">The Team</a></li>
    </ul>
  </li>
  <li  class="active" ><a href="/blog">Our Blog</a></li>
  <li  class="dropdown">
      <a href="/contact-us/contact">Contact Us</a>
      <ul class="dropdown-menu">
        <li><a href="/contact-us/contact">Write to Us</a></li>
        <li><a href="/contact-us/location">Location</a></li>
      </ul>
  </li>
</ul>
<ul class="nav social-icons pull-right">
  <li id="facebook"> 
    <a href="https://www.facebook.com/multunus" title="facebook">
      <img src="/images/facebook_white_icon.png" alt="facebook" />
    </a>
  </li> 
  <li id="twitter"> 
    <a href="http://twitter.com/multunus" title="twitter">
      <img src="/images/twitter_white_icon.png" alt="twitter" />
    </a>
  </li>   

</ul>

      </div>
    </div>
</div>
</nav>
  <div class="container-fluid main-content">
    <div class="row-fluid">
      <article class="hentry span9 blog-post" role="article">
  <div class="row-fluid">
  <div class="span2 date-container">
    








  


<div datetime="2011-09-23T11:15:50+05:30" pubdate data-updated="true"><div class='day'>23</div><div class='month-year'><div class='month'>September</div><div class='year'>2011</div></div></div>
  </div>
  <div class="span10">
    
      <header>
        <h2 class="entry-title">Continuous Delivery for Android Apps - Part 1</h2>
        <p class="meta">
          
  

<div class="byline author vcard"><strong>Posted by: </strong><span class="fn">Leena</span></div>

        </p>
      </header>
    
  </div>

  <div class="entry-content"><div>

We&#8217;ve set up our CI server for building android apps. We use Jenkins as our CI server, but the same steps can be applied to any CI server.
<h3><span style="text-decoration: underline">Setup Android Environment on CI server</span></h3>
You need to first install the android SDK and platform tools on the CI server. The steps are well defined <a href="http://developer.android.com/sdk/installing.html">here</a>. You can run the command <code>android update sdk --no-ui</code> if the CI server is in an headless environment.
<h3><span style="text-decoration: underline">Generate Build script</span></h3>
Using android SDK tool , you can generate build script for the android project which contains the standard steps for building the app such as clean, compile, release, install etc. The following command will generate the build script, replace &lt;appname&gt;, &lt;target&gt; and &lt;project path&gt; accordingly.
<pre>android update project -n &lt;appname&gt; -t &lt;target&gt; -p &lt;project directory&gt;</pre>
This will create build.xml file under the project directory. You need to create build.properties file with the following contents:
<pre>key.store=path-to-keystore
key.alias=[alias]
key.store.password=[pw]
key.alias.password=[pw2]</pre>
You can generate the key file using keytoool or you can generate the key file from eclipse. Run the command  <span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace;line-height: 18px">ant clean release<span style="font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif;line-height: 19px">, which will compile the files, and generate the apk files (it generates signed, unsigned and unaligned files). The signed version can be used for uploading to Android Market or for installing directly on any device. Couple of stuff to be noted here are:</span></span>
<ul>
    <li>Ant version has to be 1.8.0 or higher.</li>
    <li>Put the external libraries in the <span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace;line-height: 18px">libs</span> directory. Build script automatically picks up the libraries put under libs directory, otherwise the script need to be changed to look at a different classpath.</li>
</ul>
Checkin the build.xml, build.properties and the key file into the repository.
<h3><span style="text-decoration: underline">Setup the CI server</span></h3>
The CI server has to run the ant script for building the app. One more setting what we&#8217;ve done in our Jenkins server was to archive the apks as artifacts (available in the post build action). In upcoming posts, I will cover how to do the following:
<ol>
    <li>Running android tests</li>
    <li>Running code/test coverage tools</li>
    <li>Actual deployment</li>
</ol>
References: <a href="http://skaug.no/ingvald/2011/09/android-app-with-jenkins/" target="_blank">http://skaug.no/ingvald/2011/09/android-app-with-jenkins/</a>

</div>

</div>
  
    <p class="meta">
      

<div class="categories">
	<strong>Filed in: </strong> 
  
    <a class='category' href='/blog/categories/all-posts/'>All Posts</a>, <a class='category' href='/blog/categories/android/'>Android</a>, <a class='category' href='/blog/categories/continuous-delivery/'>Continuous Delivery</a>, <a class='category' href='/blog/categories/process/'>Process</a>, <a class='category' href='/blog/categories/technology/'>Technology</a>
  
</div>


      
    </p>
  
</div>
  <footer>
    
      <div class="sharing">
	
		<div class="fb-like" data-width="368" data-layout="button_count" data-href="" data-show-faces="false">
		</div>
	
	
		<div class="g-plusone" data-size="medium" data-href="http://multunus.herokuapp.com/blog/2011/09/continuous-delivery-for-android-apps-part-1">
		</div>
	
  	
  		<a href="http://twitter.com/share" class="twitter-share-button" data-url="http://multunus.herokuapp.com/blog/2011/09/continuous-delivery-for-android-apps-part-1" data-counturl="http://multunus.herokuapp.com/blog/2011/09/continuous-delivery-for-android-apps-part-1" data-count="none">
  		</a>
  	
  	<script src="//platform.linkedin.com/in.js" type="text/javascript"></script>
  	<script type="IN/Share" data-counter="right"></script>
</div>

    
    
    <section>
      <h1>Comments</h1>
      <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
    </section>
    
  </footer>
  

<script type="text/javascript">
      var disqus_shortname = 'multunus';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://multunus.herokuapp.com/blog/2011/09/continuous-delivery-for-android-apps-part-1/';
        var disqus_url = 'http://multunus.herokuapp.com/blog/2011/09/continuous-delivery-for-android-apps-part-1/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</article>

<aside class="sidebar-nav span3">
  <h3>Categories</h3>
<ul id="category-list">
	<li  class="page_item"><a href="/blog/categories/all-posts">All Posts</a></li>
	<li  class="page_item"><a href="/blog/categories/android">Android</a></li>
	<li  class="page_item"><a href="/blog/categories/business">Business</a></li>
	<li  class="page_item"><a href="/blog/categories/continuous-delivery">Continuous Delivery</a></li>
	<li  class="page_item"><a href="/blog/categories/process">Process</a></li>
	<li  class="page_item"><a href="/blog/categories/rails">Rails</a></li>
	<li  class="page_item"><a href="/blog/categories/technology">Technology</a></li>
</ul>

</aside> 
    </div>
  </div>
  <div class="container-fluid dark-background">
      <div class="row-fluid">
        <div class="span4 featured-posts">
          <div class="header">Featured Posts</div>
<ul id="featured-posts">
  
    
  
    
  
    
  
    
  
    
      <li class="post">
        <a href="/blog/2012/01/a-sneak-peak-into-mobile-app-opportunities-in-2012/">A sneak peek into Mobile App Opportunities in 2012</a>
      </li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="post">
        <a href="/blog/2011/09/continuous-delivery-for-android-apps-part-1/">Continuous Delivery for Android Apps - Part 1</a>
      </li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="post">
        <a href="/blog/2011/07/continuous-delivery-using-jenkins-build-pipeline/">Continuous Delivery - Part 1: Our Jenkins Build Pipeline setup</a>
      </li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="post">
        <a href="/blog/2011/02/software-development-as-a-balance/">A Macro Level Perspective of Software Development</a>
      </li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</ul>

        </div>
        <div class="span4 tumblr-feed">
          <div class="header">Our Daily Voice</div>
<ul id="tumblr_post">
  <li class="loading">Fetching...</li>
</ul>
<div id="continue-reading"><a href="http://multunus.tumblr.com/">Continue reading at our tumblog</a></div>
<script type="text/javascript">
  $(document).ready(function(){
    getTumblrPost("multunus", 1);
  });
</script>
<script src="/javascripts/asides/tumblr.js" type="text/javascript"> </script>

        </div>
        <div class="span4 twitter-feed">
          
  <div class='header'>@multunus</div>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $(document).ready(function(){
      getTwitterFeed("multunus", 5, false);
    });
  </script>
  <script src="/javascripts/asides/twitter.js" type="text/javascript"> </script>


        </div>         
      </div>
    </div>
  <footer role="contentinfo" class="page-footer">
<div class = "navbar footer-navbar">
  <div class = "container-fluid">
    <div class="nav-collapse footer-container">
      <ul class="nav"><li class="copyright">&copy;2012 Copyright by Multunus Software Private Limited.</li></ul>

<ul class="nav pull-right">
  <li><a href="/">Home</a></li>	
  <li><a href="/what-we-do">What We Do</a></li>
  <li><a href="/why-us">Why Us?</a></li>
  <li><a href="/careers-multunus">Careers</a></li>
  <li><a href="/about/history">About</a></li>
  <li><a href="/blog">Our Blog</a></li>
  <li><a href="/contact-us/contact">Contact Us</a></li>
</ul>

    </div>
  </div>
</div>
</footer>
</body>
</html>
